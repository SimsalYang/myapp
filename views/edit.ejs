<h1>
  编辑文章</h1>
<div class="form-group">
  <input type="text" class="form-control" v-model="title" placeholder="输入文章标题">
</div>
<div class="form-group">
  <textarea name="" class="form-control" v-model="content" placeholder="输入文章内容" id="" cols="30" rows="10"></textarea>
</div>
<div class="form-group">
  <button class="btn btn-success" v-on:click="submit">提交</button>
</div>
<script>
  var postId = '<%= id %>';
  var vm = new Vue({
    el: '#app',
    data: {
      title: '',
      content: ''
    },
    created() {
      axios.get('/api/posts/one?id=' + postId)
        .then(function (response) {
          vm.title = response.data.post.title;
          vm.content = response.data.post.content;
        })
        .catch(function (err) {
          alert(err);
        })
    },
    methods: {
      submit() {
        axios.post('/api/v1/posts/:id',
          {
            id: postId,
            title: vm.title,
            content: vm.content
          })
          .then(function (response) {
            alert(JSON.stringify(response.data));
          })
          .catch(function (err) {
            alert(err);
          })
      }
    }
  });
</script>